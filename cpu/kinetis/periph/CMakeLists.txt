set(submodules adc dac flashpage gpio hwrng i2c ics mcg mcg_lite pm pwm rtc rtt spi timer uart wdog)
foreach(submodule IN LISTS submodules)
  add_riot_module(periph_${submodule} RIOT::periph::${submodule} OBJECT ${submodule}.c)
  target_link_libraries(riot_periph_${submodule} PUBLIC RIOT::periph::common)
endforeach()
riot_use_module(RIOT::periph::gpio)
target_link_libraries(riot_periph_i2c PUBLIC RIOT::core::thread_flags)
target_link_libraries(riot_periph_rtc PUBLIC RIOT::periph::rtt)
