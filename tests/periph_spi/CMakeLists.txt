add_executable(test_periph_spi main.c)
target_link_libraries(test_periph_spi PUBLIC RIOT::RIOT)
riot_target_depends(test_periph_spi PUBLIC periph_spi xtimer shell shell_commands schedstatistics)
riot_target_depends_optional(test_periph_spi PUBLIC periph_spi_on_qspi)
set(low_memory_boards "samd10-xmini")
if (NOT BOARD IN_LIST low_memory_boards)
  riot_target_depends_optional(test_periph_spi PUBLIC periph_spi_reconfigure)
endif()
riot_check_missing_modules(test_periph_spi)
